<xml>

<!-- Build file for waxe.ndll -->
<!-- Install hxcpp and run with 'haxelib run hxcpp Build.xml' -->

<include name="${HXCPP}/build-tool/BuildCommon.xml"/>

<set name="LIB_DIR" value="-Llib" unless="windows"/>
<set name="LIB_DIR" value="-libpath:lib" if="windows"/>

<set name="DBG" value="d" if="debug"/>

<files id="files">
   <compilerflag value = "-Iinclude"/>
   <compilerflag value = "-Iwaxe"/>
   <compilerflag value = "-D_FILE_OFFSET_BITS=64" if="macos"/>
   <compilerflag value = "-D_LARGE_FILES=64" if="macos"/>
   <compilerflag value = "-D__WXMAC__" if="macos"/>


   <file name="waxe/App.cpp"/>
   <file name="waxe/HaxeAPI.cpp"/>
   <file name="waxe/Window.cpp"/>
   <file name="waxe/Frame.cpp"/>
   <file name="waxe/MDI.cpp"/>
   <file name="waxe/StaticText.cpp"/>
   <file name="waxe/TextCtrl.cpp"/>
   <file name="waxe/Sizer.cpp"/>
   <file name="waxe/Panel.cpp"/>
   <file name="waxe/Dialog.cpp"/>
   <file name="waxe/Button.cpp"/>
   <file name="waxe/ComboBox.cpp"/>
   <file name="waxe/DC.cpp"/>
   <file name="waxe/Pen.cpp"/>
   <file name="waxe/Brush.cpp"/>
   <file name="waxe/Font.cpp"/>
   <file name="waxe/Bitmap.cpp"/>
   <file name="waxe/Menu.cpp"/>
   <file name="waxe/Scintilla.cpp"/>
   <file name="waxe/GLCanvas.cpp"/>

   <file name="waxe/Clay.cpp"/>
   <file name="waxe/clay/Container.cpp"/>
   <file name="waxe/clay/HintWindow.cpp"/>
   <file name="waxe/clay/Manager.cpp"/>
   <file name="waxe/clay/Serializer.cpp"/>
   <file name="waxe/clay/Skin.cpp"/>
   <file name="waxe/clay/ToolBox.cpp"/>


</files>

<target id="waxe.ndll" tool="linker" toolid="dll" output="waxe">
   <files id="files"/>
   <ext value=".ndll"/>
   <outdir name="../ndll/${BINDIR}"/>
   <flag value="${LIB_DIR}"/>

   <lib name="lib/Mac/libwx_mac-2.8.a" if="macos"/>
   <lib name="lib/Mac/libwx_mac_gl-2.8.a" if="macos"/>
   <lib name="lib/Mac/libwxscintilla_mac.a" if="macos"/>

   <lib name="lib/Windows/wxmsw28.lib" if="windows"/>
   <lib name="lib/Windows/wxmsw28_gl.lib" if="windows"/>
   <lib name="lib/windows/libwxscintilla.a" if="windows"/>

   <lib name="user32.lib" if="windows"/>
   <lib name="advapi32.lib" if="windows"/>
   <lib name="gdi32.lib" if="windows"/>
   <lib name="comdlg32.lib" if="windows"/>
   <lib name="comctl32.lib" if="windows"/>
   <lib name="ole32.lib" if="windows"/>
   <lib name="oleaut32.lib" if="windows"/>
   <lib name="rpcrt4.lib" if="windows"/>
   <lib name="shell32.lib" if="windows"/>
   <lib name="kernel32.lib" if="windows"/>

   <lib name="-framework" if="macos"/>
   <lib name="IOKit" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="Carbon" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="Cocoa" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="System" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="QuickTime" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="OpenGL" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="AGL" if="macos"/>
   <lib name="-framework" if="macos"/>
   <lib name="WebKit" if="macos"/>

   <lib name="-lz" unless="windows"/>
   <lib name="-lpthread" unless="windows"/>
   <lib name="-liconv" unless="windows"/>

</target>

<target id="default">
   <target id="waxe.ndll"/>
</target>


</xml>
